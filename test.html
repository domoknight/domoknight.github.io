<html>

<head>

<center>
<h2>
Simple Contraband / Zen Calculator
</h2>
</center>

<title>
STO - Simple Contraband / Zen Calculator
</title>

</head>

<body>

<script type="text/javascript">

function DoTheMath() { 

//Contraband

	var form = document.getElementById("zencalc");

	//Exchange Rates
	var keyrate = parseInt(form.elements["keyrate"].value);
	var cbdrate = parseInt(form.elements["cbdrate"].value);
	var zenrate = parseInt(form.elements["zenrate"].value);
	var fsmrate = parseInt(form.elements["fsmrate"].value);
	var zdiscount = parseInt(form.elements["zdiscount"].value);
	var dbonus = parseInt(form.elements["dbonus"].value);

	//Conversion Rates
	var zdc = form.elements["zdc"];
	var zkc = form.elements["zkc"];
	var zpc = form.elements["zpc"];
	var zfc = form.elements["zfc"];
	zdc.value = (2000 * (1+(zbonus/100))).toFixed();
	zkc.value = (125 * (1-(zdiscount/100))).toFixed();
	zpc.value = (1125 * (1-(zdiscount/100))).toFixed();
	zfc.value = (500 * (1-(zdiscount/100))).toFixed();
	
	//Number of Keys/Packs/FSMs
	var keynum = parseInt(form.elements["keynum"].value);
	var packnum = parseInt(form.elements["packnum"].value);
	var fsmnum = parseInt(form.elements["fsmnum"].value);
	
	//Calculated Variables for Individual Keys
	var ind_cbd_num	= form.elements["ind_cbd_num"];
	var ind_cbd_cost = form.elements["ind_cbd_cost"];
	var ind_cbd_net	= form.elements["ind_cbd_net"];

	//Calculated Variables for Key Packs
	var pack_cbd_num = form.elements["pack_cbd_num"];
	var pack_cbd_cost = form.elements["pack_cbd_cost"];
	var pack_cbd_net = form.elements["pack_cbd_net"];

	//Calculated Variables for FSMs
	var fsm_cbd_num = form.elements["fsm_cbd_num"];
	var fsm_cbd_cost = form.elements["fsm_cbd_cost"];
	var fsm_cbd_net = form.elements["fsm_cbd_net"];
	
	//Math for Individual Keys
	ind_cbd_num.value =  Math.ceil(Math.ceil(((zenrate * zkc.value) * keynum) / (zdc.value/5))/5)*5 ;
	ind_cbd_cost.value = ind_cbd_num.value * cbdrate;
	ind_cbd_net.value = (keyrate * keynum)-ind_cbd_cost.value;
	
	//Math for Key Packs
	pack_cbd_num.value = Math.ceil(Math.ceil(((zenrate * zpc.value) * packnum) / (zdc.value/5))/5)*5;
	pack_cbd_cost.value = pack_cbd_num.value * cbdrate;
	pack_cbd_net.value = ((keyrate * 10) * packnum)-pack_cbd_cost.value;

	//Math for FSMs
	fsm_cbd_num.value = Math.ceil(Math.ceil(((zenrate * zfc.value) * fsmnum) / (zdc.value/5))/5)*5;
	fsm_cbd_cost.value = fsm_cbd_num.value * cbdrate;
	fsm_cbd_net.value = (fsmrate * fsmnum)-fsm_cbd_cost.value;
	
}


</script>




<div class="panel panel-primary">

		<div class="panel-body">
		
			<form id="zencalc" oninput="DoTheMath()">
				<b>Instructions:</b> &nbsp;&nbsp;1) Fill out the items in the yellow boxes. &nbsp;&nbsp;2) Profit(?)
                <br><b>Notes:</b> &nbsp;&nbsp; This calculator takes into account that you MUST buy Contraband in sets of 5.
				<br/><br />
				
				<!--Debug -->
				<!--
				<output name="ind_cbd_num">0</output><br>
				<output name="ind_cbd_cost">0</output><br>
				<output name="ind_cbd_net">0</output><br>
				<output name="pack_cbd_num">0</output><br>
				<output name="pack_cbd_cost">0</output><br>
				<output name="pack_cbd_net">0</output><br>
				<output name="fsm_cbd_num">0</output><br>
				<output name="fsm_cbd_cost">0</output><br>
				<output name="fsm_cbd_net">0</output><br>
				<output name="zdc">1</output><br>
				-->
				
				
				<!--Exchange Table -->
				<table border="1" cellpadding = "4" >
				<tr bgcolor = "lightblue">
				<th colspan = "4">Exchange Rates</th>
                <th colspan = "2">Discount/Bonus</th>
				</tr>
				<tr>
				<th align="center" valign="middle"><p><img src="Key.png"></p>
				  <p>Master Key (in EC)</p>
				  <p><img src="EC.png"></p></th>
				<th align="center" valign="middle"><p><img src="Contraband.png"> </p>
				  <p>Contraband (in EC)</p>
				  <p><img src="EC.png"></p></th>
				<th align="center" valign="middle"><p><img src="fsm.png"></p>
				  <p>Fleet Ship Module (in EC)</p>
				  <p><img src="EC.png"></p></th>
				<th align="center" valign="middle"><p><img src="Zen.png"></p>
				  <p>Zen (in Dilithium)</p>
				  <p><img src="Dil.png"></p></th>
				<th align="center" valign="middle">Zen Discount (as a percentage)</th>
                <th align="center" valign="middle">Dilithium Bonus (as a percentage)</th>
				</tr>
				<tr bgcolor = "yellow">
				<th><input name="keyrate" type="number" value="0" /></th>
				<th><input name="cbdrate" type="number" value="0" /></th>
				<th><input name="fsmrate" type="number" value="0" /></th>
				<th><input name ="zenrate" type="number" value="0" /></th>
				<th><input name ="zdiscount" type="number" value="0" />%</th>
                <th><input name="dbonus" type = "number" value = "0" />%</th>
				</tr>
				</table>
                <br/>
				<table border="0">
				  <tr>
				    <td width="497" rowspan="3"><div align="center">
				      <table border = "1" cellpadding = "4" >
				        <tr bgcolor = "lightblue">
				          <th colspan="4"><b>Conversions</b></th>
			            </tr>
				        <tr bg color = "lightblue">
				          <th width="72">Item</th>
				          <th width="58">Quantity</th>
				          <th width="110">Redeem Value</th>
				          <th width="181">Method to Obtain</th>
			            </tr>
				        <tr>
				          <td align="center" valign="middle"><p><img src="Contraband.png"></p>
				            <p>Contraband</p></td>
				          <td align="center" valign="middle">5</td>
				          <td align="center" valign="middle"><p><img src="Dil.png"></p>
				            <p><output name="zdc">2000</output> Dilithium</p></td>
				          <td align="center" valign="middle"><a href="http://sto.gamepedia.com/Assignment:_Turn_Over_Confiscated_Contraband">Turn Over Confiscated Contraband</a></td>
			            </tr>
				        <tr>
				          <td align="center" valign="middle"><p><img src="Zen.png"></p>
				            <p>Zen</p></td>
				          <td align="center" valign="middle"><output name="zkc">125</output></td>
				          <td align="center" valign="middle"><p><img src="Key.png"></p>
				            <p>1 Key</p></td>
				          <td align="center" valign="middle">Z-Store Items </td>
			            </tr>
				        <tr>
				          <td align="center" valign="middle"><p><img src="Zen.png"></p>
				            <p>Zen</p></td>
				          <td align="center" valign="middle"><output name="zpc">1125</output></td>
				          <td align="center" valign="middle"><p><img src="Key.png"></p>
				            <p>10 Pack of Keys</p></td>
				          <td align="center" valign="middle">Z-Store Items</td>
			            </tr>
				        <tr>
				          <td align="center" valign="middle"><p><img src="Zen.png"></p>
				            <p>Zen</p></td>
				          <td align="center" valign="middle"><output name="zfc">500</output></td>
				          <td align="center" valign="middle"><p><img src="fsm.png"></p>
				            <p>1 Fleet Ship Module</p></td>
				          <td align="center" valign="middle">Z-Store Items</td>
			            </tr>
			          </table>
			        </div>				      <div align="center"></div>			        <div align="center"></div></td>
				    <td width="601"><table border = "1" cellpadding = "4" >
				      <tr bgcolor="lightblue">
				        <th colspan = "4">Individual Keys</th>
			          </tr>
				      <tr>
				        <th align="center" valign="middle"><p><img src="Key.png"></p>
				          <p># of Keys Wanted</p></th>
				        <th align="center" valign="middle"><p><img src="Contraband.png"></p>
				          <p># of Contraband to Buy</p></th>
				        <th align="center" valign="middle"><p><img src="EC.png"></p>
				          <p>Cost in EC</p></th>
				        <th align="center" valign="middle"><p><img src="EC.png"></p>
				          <p>Net EC after Selling Keys</p></th>
			          </tr>
				      <tr>
				        <td bgcolor="yellow"><input name="keynum" type="number" value="1" /></td>
				        <td><output name="ind_cbd_num">0</output></td>
				        <td><output name="ind_cbd_cost">0</output></td>
				        <td><output name="ind_cbd_net">0</output></td>
			          </tr>
			        </table></td>
			      </tr>
				  <tr>
				    <td><table border = "1" cellpadding = "4">
				      <tr bgcolor="lightblue">
				        <th colspan = "4">10-Packs of Keys</th>
			          </tr>
				      <tr>
				        <th align="center" valign="middle"><p><img src="Key.png"></p>
				          <p># of Packs Wanted</p></th>
				        <th align="center" valign="middle"><p><img src="Contraband.png"></p>
				          <p># of Contraband to Buy</p></th>
				        <th align="center" valign="middle"><p><img src="EC.png"></p>
				          <p>Cost in EC</p></th>
				        <th align="center" valign="middle"><p><img src="EC.png"></p>
				          <p>Net EC after Selling Keys</p></th>
			          </tr>
				      <tr>
				        <td bgcolor="yellow"><input name="packnum" type="number" value="1" /></td>
				        <td><output name="pack_cbd_num">0</output></td>
				        <td><output name="pack_cbd_cost">0</output></td>
				        <td><output name="pack_cbd_net">0</output></td>
			          </tr>
			        </table></td>
			      </tr>
				  <tr>
				    <td><table border = "1" cellpadding = "4">
				      <tr bgcolor="lightblue">
				        <th colspan = "4">Fleet Ship Modules</th>
			          </tr>
				      <tr>
				        <th align="center"><p><img src="fsm.png"></p>
				          <p># of FSMs Wanted</p></th>
				        <th align="center"><p><img src="Contraband.png"></p>
				          <p># of Contraband to Buy</p></th>
				        <th align="center"><p><img src="EC.png"></p>
				          <p>Cost in EC</p></th>
				        <th align="center"><p><img src="EC.png"></p>
				          <p>Net EC after Selling FSMs</p></th>
			          </tr>
				      <tr>
				        <td bgcolor="yellow"><input name="fsmnum" type="number" value="1" /></td>
				        <td><output name="fsm_cbd_num">0</output></td>
				        <td><output name="fsm_cbd_cost">0</output></td>
				        <td><output name="fsm_cbd_net">0</output></td>
			          </tr>
			        </table></td>
			      </tr>
			  </table>
				<br />
				
				
				<!--Conversions Table --><br />
				
				<!--Individual Keys Table --><br />
				
				<!--Packs of Keys Table --><br />
				
				<!--FSM Table --><br/>
			</form>
		</div>
</div>








</body>

</html>
